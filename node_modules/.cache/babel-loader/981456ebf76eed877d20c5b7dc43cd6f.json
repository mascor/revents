{"ast":null,"code":"import firebase from \"../config/firebase\";\nconst db = firebase.firestore();\nexport function dataFromSnapshot(snapshot) {\n  if (!snapshot.exists) return undefined;\n  const data = snapshot.data();\n\n  for (const prop in data) {\n    if (data.hasOwnProperty(prop)) {\n      if (data[prop] instanceof firebase.firestore.Timestamp) {\n        data[prop] = data[prop].toDate();\n      }\n    }\n  }\n\n  return { ...data,\n    id: snapshot.id\n  };\n}\nexport function getEventsFromFirestore(observer) {\n  return db.collection(\"events\").onSnapshot(observer);\n}","map":{"version":3,"sources":["/Users/massimilianocorvino/Desktop/temp/revents/src/app/firestore/firestoreService.js"],"names":["firebase","db","firestore","dataFromSnapshot","snapshot","exists","undefined","data","prop","hasOwnProperty","Timestamp","toDate","id","getEventsFromFirestore","observer","collection","onSnapshot"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,oBAArB;AAEA,MAAMC,EAAE,GAAED,QAAQ,CAACE,SAAT,EAAV;AAEA,OAAO,SAASC,gBAAT,CAA0BC,QAA1B,EAAmC;AACtC,MAAG,CAACA,QAAQ,CAACC,MAAb,EAAqB,OAAOC,SAAP;AACrB,QAAMC,IAAI,GAAGH,QAAQ,CAACG,IAAT,EAAb;;AAEA,OAAK,MAAMC,IAAX,IAAmBD,IAAnB,EAAwB;AACpB,QAAGA,IAAI,CAACE,cAAL,CAAoBD,IAApB,CAAH,EAA6B;AACzB,UAAGD,IAAI,CAACC,IAAD,CAAJ,YAAsBR,QAAQ,CAACE,SAAT,CAAmBQ,SAA5C,EAAsD;AAClDH,QAAAA,IAAI,CAACC,IAAD,CAAJ,GAAWD,IAAI,CAACC,IAAD,CAAJ,CAAWG,MAAX,EAAX;AACH;AACJ;AACJ;;AAED,SAAO,EACH,GAAGJ,IADA;AAEHK,IAAAA,EAAE,EAAER,QAAQ,CAACQ;AAFV,GAAP;AAIH;AAED,OAAO,SAASC,sBAAT,CAAgCC,QAAhC,EAAyC;AAC5C,SAAOb,EAAE,CAACc,UAAH,CAAc,QAAd,EAAwBC,UAAxB,CAAmCF,QAAnC,CAAP;AACH","sourcesContent":["import firebase from \"../config/firebase\";\n\nconst db= firebase.firestore();\n\nexport function dataFromSnapshot(snapshot){\n    if(!snapshot.exists) return undefined;\n    const data = snapshot.data();\n\n    for (const prop in data){\n        if(data.hasOwnProperty(prop)){\n            if(data[prop] instanceof firebase.firestore.Timestamp){\n                data[prop]=data[prop].toDate();\n            }\n        }\n    }\n\n    return {\n        ...data,\n        id: snapshot.id\n    }\n}\n\nexport function getEventsFromFirestore(observer){\n    return db.collection(\"events\").onSnapshot(observer);\n}"]},"metadata":{},"sourceType":"module"}